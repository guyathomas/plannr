import { Observable } from 'rxjs';
import { combineEpics } from 'redux-observable';
import { GET_{{ upperCase defaultAction }} } from './constants';
import { fulfillGet{{ properCase defaultAction }}, failGet{{ properCase defaultAction }} } from './actions';

const get{{ properCase defaultAction }}Epic = action$ =>
  action$.ofType( GET_{{ upperCase defaultAction }} )
    .mergeMap( () =>
      Observable.ajax( 'https://api.github.com/users/guyathomas/repos' )
        .map( ({ data }) => fulfillGet{{ properCase defaultAction }}( data ) )
        .catch( error => Observable.of( failGet{{ properCase defaultAction }}( error ) ) ) );

export default combineEpics(
  get{{ properCase defaultAction }}Epic
);
